<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>AYOUB AZAOUYAT </title>
	<style>
		:root {
			color-scheme: dark;
		}

		*,
		*::before,
		*::after {
			box-sizing: border-box;
		}

		body {
			margin: 0;
			min-height: 100vh;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: clamp(1.5rem, 6vw, 3.5rem);
			font-family: "Poppins", "Segoe UI", sans-serif;
			color: #f7f8fb;
			background: radial-gradient(circle at top, #343a6b, #13152c 55%, #080912);
		}

		.wrapper {
			text-align: center;
			max-width: 640px;
			padding: 0 clamp(1rem, 6vw, 3rem);
		}

		h1 {
			margin: 0 0 0.75rem;
			font-size: clamp(1.9rem, 5vw, 3.1rem);
			letter-spacing: 0.015em;
		}

		p {
			margin: 0;
			font-size: clamp(1rem, 3.4vw, 1.2rem);
			color: #aeb7ff;
			line-height: 1.5;
		}

		.wrapper > * + * {
			margin-top: clamp(0.75rem, 2.4vw, 1.5rem);
		}

		.sub {
			margin-top: 0.9rem;
			color: #c9cef9;
			font-size: clamp(0.95rem, 2.8vw, 1.05rem);
		}

		.meme {
			margin: clamp(1.8rem, 5vw, 2.4rem) auto 0;
			display: flex;
			flex-direction: column;
			gap: 0.85rem;
			align-items: center;
		}

		.meme .frame {
			position: relative;
			width: clamp(220px, 68vw, 420px);
			min-height: 180px;
			border-radius: 18px;
			border: 1px solid rgba(255, 255, 255, 0.16);
			box-shadow: 0 22px 40px rgba(0, 0, 0, 0.35);
			background: rgba(4, 6, 20, 0.85);
			overflow: hidden;
		}

		.meme img {
			display: block;
			width: 100%;
			height: 100%;
			object-fit: contain;
			background: #010208;
		}

		.meme .placeholder {
			position: absolute;
			inset: 0;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 1.5rem;
			color: rgba(226, 229, 255, 0.75);
			font-size: 1.05rem;
			text-align: center;
			line-height: 1.4;
			background: linear-gradient(145deg, rgba(58, 66, 123, 0.35), rgba(37, 38, 80, 0.6));
		}

		.meme figcaption {
			margin: 0;
			font-size: 0.95rem;
			color: rgba(226, 229, 255, 0.72);
			max-width: 360px;
			line-height: 1.45;
		}

		.meme-actions {
			margin-top: 1.1rem;
			display: flex;
			justify-content: center;
			gap: 0.85rem;
			flex-wrap: wrap;
		}

		.meme-link,
		.meme-refresh {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			padding: 0.65rem 1.6rem;
			border-radius: 14px;
			font-size: 0.94rem;
			font-weight: 600;
			text-decoration: none;
			cursor: pointer;
			transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
			border: none;
		}

		.meme-link {
			color: #e7edff;
			background: rgba(255, 255, 255, 0.08);
			border: 1px solid rgba(255, 255, 255, 0.16);
		}

		.meme-refresh {
			color: #0a0f2b;
			background: linear-gradient(135deg, #7b7efc, #4ad7ff);
			box-shadow: 0 16px 28px rgba(82, 130, 255, 0.25);
		}

		.meme-link:hover,
		.meme-refresh:hover {
			transform: translateY(-2px);
			box-shadow: 0 12px 22px rgba(0, 0, 0, 0.25);
		}

		.meme-refresh:disabled {
			opacity: 0.55;
			cursor: wait;
			box-shadow: none;
			transform: none;
		}

		.status {
			margin-top: 0.8rem;
			font-size: 0.92rem;
			color: rgba(255, 255, 255, 0.62);
			min-height: 1.2em;
		}

		@media (max-width: 520px) {
			.meme figcaption {
				font-size: 0.92rem;
			}
		}
	</style>
</head>
<body>
		<main class="wrapper">
			<h1>Oops, forgot to update this!</h1>
			<p>Coming soon...</p>
			<p class="sub">In the meanwhile, enjoy this random meme:</p>
			<figure class="meme" role="group" aria-labelledby="meme-caption status-message">
				<div class="frame">
					<img id="meme-image" alt="" hidden />
					<div class="placeholder" id="meme-placeholder">Fetching fresh internet nonsense...</div>
				</div>
				<figcaption id="meme-caption"></figcaption>
			</figure>
			<div class="meme-actions">
				<a id="meme-link" class="meme-link" href="#" target="_blank" rel="noopener noreferrer">View original post</a>
				<button id="meme-refresh" class="meme-refresh" type="button">Show me another</button>
			</div>
			<div class="status" id="status-message"></div>
		</main>
		<script>
			(() => {
				const apiUrl = "https://meme-api.com/gimme";
				const image = document.getElementById("meme-image");
				const caption = document.getElementById("meme-caption");
				const placeholder = document.getElementById("meme-placeholder");
				const link = document.getElementById("meme-link");
				const refreshButton = document.getElementById("meme-refresh");
				const statusMessage = document.getElementById("status-message");

				async function fetchMeme() {
					setLoading(true, "Fetching fresh internet nonsense...");
					try {
						const response = await fetch(apiUrl, { cache: "no-store" });
						if (!response.ok) {
							throw new Error(`Request failed with status ${response.status}`);
						}
						const data = await response.json();
						updateMeme(data);
					} catch (error) {
						handleError(error);
					}
				}

				function setLoading(isLoading, message = "") {
					refreshButton.disabled = isLoading;
					statusMessage.textContent = isLoading ? "Loading a new meme..." : "";
					placeholder.hidden = !isLoading;
					image.hidden = isLoading;
					if (isLoading) {
						placeholder.textContent = message;
					} else {
						placeholder.textContent = "";
					}
				}

				function updateMeme(data) {
					const { url, title, postLink } = data;
					if (!url || !title) {
						throw new Error("The meme API returned unexpected data.");
					}
					image.onload = () => {
						setLoading(false);
					};
					image.onerror = () => {
						handleError(new Error("Couldn't load the meme image."));
					};
					image.src = url;
					image.alt = title;
					caption.textContent = title;
					link.href = postLink || url;
					if (image.complete) {
						image.onload();
					}
				}

				function handleError(error) {
					console.error(error);
					refreshButton.disabled = false;
					placeholder.hidden = false;
					image.hidden = true;
					placeholder.textContent = "Whoops, memes are hiding from us right now. Try again in a sec!";
					statusMessage.textContent = "Something went wrong fetching the meme.";
				}

				refreshButton.addEventListener("click", () => {
					setLoading(true, "Digging up another meme...");
					fetchMeme();
				});

				fetchMeme();
			})();
		</script>
	</body>
</html>
